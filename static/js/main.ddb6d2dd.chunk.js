(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{104:function(e,t,n){e.exports={overlay:"modal-overlay_overlay__I9joO"}},107:function(e,t,n){e.exports={card:"constructor-card_card__24xzQ"}},116:function(e,t,n){},14:function(e,t,n){e.exports={container:"order-details_container__3NSnE",id:"order-details_id__25lX_",status:"order-details_status__QLxq1",box:"order-details_box__2QtVZ",scroll:"order-details_scroll__39g1M",list:"order-details_list__11m69",card:"order-details_card__14OwK",radius:"order-details_radius__1k20-",image:"order-details_image__1RnWl",text:"order-details_text__3b40h",info:"order-details_info__taVdH",price:"order-details_price__2iMh3"}},19:function(e,t,n){e.exports={container:"order-stat_container__290Fy",box:"order-stat_box__TLyU2",work:"order-stat_work__2nIhe",list:"order-stat_list__3s0nK",info:"order-stat_info__33w6S",text:"order-stat_text__2Sway",number:"order-stat_number__3b24V"}},194:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(48),o=n.n(a),i=(n(116),n(10)),s=n(3),l="ADD_BUN",d="ADD_INGREDIENT",u="DELETE_INGREDIENT",j="UPDATE_INGREDIENTS",b="GET_INGREDIENTS_REQ",m="GET_INGREDIENTS_SUCCESS",O="GET_INGREDIENTS_ERROR",_="ADD_CART_MODAL",f="DELETE_CART_MODAL",p="GET_ORDER_REQUEST",x="GET_ORDER_SUCCESS",h="GET_ORDER_ERROR",g="DELETE_ORDER_MODAL",v="ADD_ORDER_IDS",y="GET_LOGIN_REQUEST",E="GET_LOGIN_SUCCESS",N="GET_LOGIN_ERROR",R="GET_REGISTER_REQUEST",S="GET_REGISTER_SUCCESS",T="GET_REGISTER_ERROR",I="GET_TOKEN_REQUEST",C="GET_TOKEN_SUCCESS",w="GET_TOKEN_ERROR",k="GET_FORGOT_REQUEST",D="GET_FORGOT_SUCCESS",q="GET_FORGOT_ERROR",G="GET_RESET_PASSWORD_REQUEST",U="GET_RESET_PASSWORD_SUCCESS",A="GET_RESET_PASSWORD_ERROR",B="GET_LOGOUT_REQUEST",z="GET_LOGOUT_SUCCESS",L="GET_LOGOUT_ERROR",P="GET_USER_REQUEST",M="GET_USER_SUCCESS",F="GET_USER_ERROR",J="GET_UPD_USER_REQUEST",W="GET_UPD_USER_SUCCESS",Q="GET_UPD_USER_ERROR",V="WS_CONNECTION_START",K="WS_CONNECTION_START_USER",Z="WS_CONNECTION_SUCCESS",X="WS_CONNECTION_ERROR",H="WS_CONNECTION_CLOSED",$="WS_GET_MESSAGE",Y=function(e,t,n){var c=(n=n||{}).expires;if("number"==typeof c&&c){var r=new Date;r.setTime(r.getTime()+1e3*c),c=n.expires=r}c&&c.toUTCString&&(n.expires=c.toUTCString());var a=e+"="+(t=encodeURIComponent(t));for(var o in n){a+="; "+o;var i=n[o];!0!==i&&(a+="="+i)}document.cookie=a},ee=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()[]\/+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},te="https://norma.nomoreparties.space/api",ne=function(e){return{type:y,loginReq:e}};function ce(e,t){return function(n){n(ne(!0)),fetch("".concat(te,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({email:e,password:t})}).then((function(e){if(200!==e.status)throw new Error("".concat(e.status));return e.json()})).then((function(e){console.log(e),n(function(e){return function(t){e&&e.success&&t({type:E,name:e.user.name,email:e.user.email})}}(e)),Y("accessToken",e.accessToken),Y("refreshToken",e.refreshToken),n(ne(!1))})).catch((function(e){n(ne(!1)),console.log("err",e),n({type:N})}))}}var re=function(e){return{type:R,registerReq:e}};function ae(e,t,n){return function(c){c(re(!0)),fetch("".concat(te,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({email:e,password:t,name:n})}).then((function(c){if(console.log(JSON.stringify({email:e,password:t,name:n})),200!==c.status)throw new Error("".concat(c.status));return c.json()})).then((function(e){console.log(e),c(function(e){return function(t){e&&e.success&&t({type:S,name:e.user.name,email:e.user.email})}}(e)),Y("accessToken",e.accessToken),Y("refreshToken",e.refreshToken),c(re(!1))})).catch((function(e){c(re(!1)),console.log("err",e),c({type:T})}))}}var oe=function(e){return{type:k,resetPasswordReq:e}};function ie(e){return function(t){t(oe(!0)),fetch("".concat(te,"/password-reset"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({email:e})}).then((function(e){if(200!==e.status)throw new Error("".concat(e.status));return e.json()})).then((function(e){console.log("res",e),t(function(e){return function(t){e&&e.success&&t({type:D,emailSent:!0})}}(e)),t(oe(!1))})).catch((function(e){t(oe(!1)),console.log("err",e),t({type:q})}))}}var se=function(e){return{type:G,resetPasswordReq:e}};function le(e,t){return function(n){n(se(!0)),fetch("".concat(te,"/password-reset/reset"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({password:e,token:t})}).then((function(e){if(200!==e.status)throw new Error("".concat(e.status));return e.json()})).then((function(e){console.log("res",e),n(function(e){return function(t){e&&e.success&&t({type:U,passwordReseted:!0})}}(e)),n(se(!1))})).catch((function(e){n(se(!1)),console.log("err",e),n({type:A})}))}}var de=function(e){return{type:B,logoutReq:e}};function ue(){return function(e){e(de(!0)),fetch("".concat(te,"/auth/logout"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({token:ee("refreshToken")})}).then((function(e){if(200!==e.status)throw new Error("".concat(e.status));return e.json()})).then((function(t){console.log("res",t),e(function(e){return function(t){e&&e.success&&t({type:z,name:"",email:""})}}(t)),Y("accessToken",""),Y("refreshToken",""),e(de(!1))})).catch((function(t){e(de(!1)),console.log("err",t),e({type:L})}))}}var je=function(e){return{type:I,tokenReq:e}};function be(){return function(e){e(je(!0)),fetch("".concat(te,"/auth/token"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({token:ee("refreshToken")})}).then((function(e){if(200!==e.status)throw new Error("".concat(e.status));return e.json()})).then((function(t){Y("accessToken",t.accessToken),Y("refreshToken",t.refreshToken),e(function(e){return function(t){e&&e.success&&t({type:C})}}(t)),e(je(!1))})).then((function(){e(Oe())})).catch((function(t){e(je(!1)),console.log("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d",t),e({type:w})}))}}var me=function(e){return{type:P,tokenReq:e}};function Oe(){return function(e){e(me(!0)),fetch("".concat(te,"/auth/user"),{method:"GET",headers:{"Content-Type":"application/json;charset=utf-8",authorization:ee("accessToken")||"null"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){console.log(t,"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435"),e(function(e){return function(t){e&&e.success&&t({type:M,name:e.user.name,email:e.user.email,isAuthenticated:!0})}}(t)),e(me(!1))})).catch((function(t){if(e(me(!1)),"jwt expired"!==t.message)return console.log(t,"\u041e\u0448\u0438\u0431\u043a\u0430"),Promise.reject(t);console.log(t,"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u043a\u0435\u043d\u0430"),e(be())}))}}var _e=function(e){return{type:J,updateUserReq:e}};function fe(e,t,n){return function(c){var r={};e&&(r.email=e),t&&(r.name=t),n&&(r.password=n),c(_e(!0)),fetch("".concat(te,"/auth/user"),{method:"PATCH",headers:{"Content-Type":"application/json;charset=utf-8",authorization:ee("accessToken")||"null"},body:JSON.stringify(r)}).then((function(e){if(200!==e.status)throw new Error("".concat(e.status));return e.json()})).then((function(e){console.log(e),c(function(e){return function(t){e&&e.success&&t({type:W})}}(e)),c(_e(!1))})).catch((function(e){c(_e(!1)),console.log(e),c({type:Q})}))}}var pe=function(e){return{type:b,listAllIngredientsReq:e}};function xe(){return function(e){e(pe(!0)),fetch("".concat(te,"/ingredients")).then((function(e){if(200!==e.status)throw new Error(e.status);return e.json()})).then((function(t){var n;e(pe(!1)),e((n=t,function(e){n&&n.success&&e({type:m,listAllIngredients:n})}))})).catch((function(t){console.log(t),e(pe(!1)),e({type:O})}))}}var he=n(28),ge=n.n(he),ve=n(5),ye=n(8),Ee=n(0),Ne=function(){var e=!!Object(i.j)({path:"/",exact:!0}),t=!!Object(i.j)("/feed"),n=!!Object(i.j)("/profile");return Object(Ee.jsx)("header",{className:ge.a.header,children:Object(Ee.jsxs)("div",{className:ge.a.container,children:[Object(Ee.jsxs)("nav",{className:ge.a.navigation,children:[Object(Ee.jsxs)(ye.b,{to:"/",className:"".concat(ge.a.link," mb-4 mt-4 mr-2 pl-5 pr-5 pb-5 pt-5"),children:[Object(Ee.jsx)(ve.BurgerIcon,{type:"".concat(e?"primary":"secondary")}),Object(Ee.jsx)("p",{className:"text text_type_main-default ".concat(!e&&"text_color_inactive"," ml-2"),children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]}),Object(Ee.jsxs)(ye.b,{to:"/feed",className:"".concat(ge.a.link," mb-4 mt-4 pl-5 pr-5 pb-5 pt-5"),children:[Object(Ee.jsx)(ve.ListIcon,{type:"".concat(t?"primary":"secondary")}),Object(Ee.jsx)("p",{className:"text text_type_main-default ".concat(!t&&"text_color_inactive"," ml-2"),children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})]}),Object(Ee.jsx)(ye.b,{to:"/",children:Object(Ee.jsx)(ve.Logo,{})}),Object(Ee.jsxs)(ye.b,{to:"/profile",className:"".concat(ge.a.link," mb-4 mt-4 pl-5 pr-5 pb-5 pt-5"),children:[Object(Ee.jsx)(ve.ProfileIcon,{type:"".concat(n?"primary":"secondary")}),Object(Ee.jsx)("p",{className:"text text_type_main-default ".concat(!n&&"text_color_inactive"," ml-2"),children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})]})})},Re=n(6),Se=n(41),Te=n.n(Se),Ie=function(){var e=Object(s.b)(),t=Object(c.useState)(""),n=Object(Re.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(""),l=Object(Re.a)(o,2),d=l[0],u=l[1],j=Object(c.useState)(""),b=Object(Re.a)(j,2),m=b[0],O=b[1],_=Object(c.useRef)(null),f=Object(c.useState)("password"),p=Object(Re.a)(f,2),x=p[0],h=p[1];return Object(s.c)((function(e){return e.profileReducer.name}))?Object(Ee.jsx)(i.a,{to:{pathname:"/"}}):Object(Ee.jsxs)("div",{className:Te.a.container,children:[Object(Ee.jsx)("p",{className:"text text_type_main-medium mt-20",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(Ee.jsxs)("form",{className:"".concat(Te.a.form," mt-6"),onSubmit:function(t){t.preventDefault(),e(ae(d,m,r))},children:[Object(Ee.jsx)(ve.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:function(e){return a(e.target.value)},icon:void 0,value:r,name:"name",error:!1,ref:_,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(Ee.jsx)(ve.Input,{type:"email",placeholder:"E-mail",onChange:function(e){return u(e.target.value)},icon:void 0,value:d,name:"email",error:!1,ref:_,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(Ee.jsx)(ve.Input,{type:x,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){return O(e.target.value)},icon:"ShowIcon",value:m,name:"password",error:!1,ref:_,onIconClick:function(){h("password"===x?"text":"password")},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(Ee.jsx)("div",{className:"mt-6 ".concat(Te.a.button),children:Object(Ee.jsx)(ve.Button,{type:"primary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]}),Object(Ee.jsxs)("div",{className:"".concat(Te.a.info," mt-20"),children:[Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive pt-4",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(Ee.jsx)(ye.b,{to:"/login",children:Object(Ee.jsx)(ve.Button,{type:"secondary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})})]})]})},Ce=n(33),we=n.n(Ce),ke=function(){var e,t=Object(s.b)(),n=Object(i.h)(),r=Object(c.useState)(""),a=Object(Re.a)(r,2),o=a[0],l=a[1],d=Object(c.useState)(""),u=Object(Re.a)(d,2),j=u[0],b=u[1],m=Object(c.useRef)(null),O=Object(c.useState)("password"),_=Object(Re.a)(O,2),f=_[0],p=_[1],x=function(){p("password"===f?"text":"password")};return Object(s.c)((function(e){return e.profileReducer.name}))?Object(Ee.jsx)(i.a,{to:(null===(e=n.state)||void 0===e?void 0:e.from)||"/"}):Object(Ee.jsxs)("div",{className:we.a.container,children:[Object(Ee.jsx)("p",{className:"text text_type_main-medium mt-20",children:"\u0412\u0445\u043e\u0434"}),Object(Ee.jsxs)("form",{className:"".concat(we.a.form," mt-6"),onSubmit:function(e){e.preventDefault(),t(ce(o,j))},children:[Object(Ee.jsx)(ve.Input,{type:"email",placeholder:"E-mail",onChange:function(e){return l(e.target.value)},icon:void 0,value:o,name:"email",error:!1,ref:m,onIconClick:x,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(Ee.jsx)(ve.Input,{type:f,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){return b(e.target.value)},icon:"ShowIcon",value:j,name:"password",error:!1,ref:m,onIconClick:x,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(Ee.jsx)("div",{className:"".concat(we.a.button," mt-6"),children:Object(Ee.jsx)(ve.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})})]}),Object(Ee.jsxs)("div",{className:"".concat(we.a.info," mt-20"),children:[Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive pt-4",children:"\u0412\u044b - \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?"}),Object(Ee.jsx)(ye.b,{to:"/register",children:Object(Ee.jsx)(ve.Button,{type:"secondary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]}),Object(Ee.jsxs)("div",{className:"".concat(we.a.info),children:[Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive pt-4",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(Ee.jsx)(ye.b,{to:"/forgot-password",children:Object(Ee.jsx)(ve.Button,{type:"secondary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})})]})]})},De=n(42),qe=n.n(De),Ge=function(){var e=Object(s.b)(),t=Object(c.useState)(""),n=Object(Re.a)(t,2),r=n[0],a=n[1],o=Object(c.useRef)(null),l=Object(s.c)((function(e){return e.profileReducer.emailSent})),d=Object(s.c)((function(e){return e.profileReducer.name}));return l?Object(Ee.jsx)(i.a,{to:{pathname:"/reset-password"}}):d?Object(Ee.jsx)(i.a,{to:{pathname:"/"}}):Object(Ee.jsxs)("div",{className:qe.a.container,children:[Object(Ee.jsx)("p",{className:"text text_type_main-medium mt-20",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(Ee.jsxs)("form",{className:"".concat(qe.a.form," mt-6"),onSubmit:function(t){t.preventDefault(),e(ie(r))},children:[Object(Ee.jsx)(ve.Input,{type:"email",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail",onChange:function(e){return a(e.target.value)},icon:void 0,value:r,name:"email",error:!1,ref:o,onIconClick:function(){var e=o.current;e&&(setTimeout((function(){return e.focus()}),0),alert("Icon Click Callback"))},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(Ee.jsx)("div",{className:"".concat(qe.a.button," mt-6"),children:Object(Ee.jsx)(ve.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})})]}),Object(Ee.jsxs)("div",{className:"".concat(qe.a.info," mt-20"),children:[Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive pt-4",children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(Ee.jsx)(ye.b,{to:"/login",children:Object(Ee.jsx)(ve.Button,{type:"secondary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})})]})]})},Ue=n(43),Ae=n.n(Ue),Be=function(){var e=Object(s.b)(),t=Object(c.useState)(""),n=Object(Re.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(""),l=Object(Re.a)(o,2),d=l[0],u=l[1],j=Object(c.useRef)(null),b=Object(c.useState)("password"),m=Object(Re.a)(b,2),O=m[0],_=m[1],f=function(){_("password"===O?"text":"password")},p=Object(s.c)((function(e){return e.profileReducer.name})),x=Object(s.c)((function(e){return e.profileReducer.passwordReseted})),h=Object(s.c)((function(e){return e.profileReducer.emailSent}));return p?Object(Ee.jsx)(i.a,{to:{pathname:"/"}}):h?x?Object(Ee.jsx)(i.a,{to:{pathname:"/login"}}):Object(Ee.jsxs)("div",{className:Ae.a.container,children:[Object(Ee.jsx)("p",{className:"text text_type_main-medium mt-20",children:"\u0412\u0445\u043e\u0434"}),Object(Ee.jsxs)("form",{className:"".concat(Ae.a.form," mt-6"),onSubmit:function(t){t.preventDefault(),e(le(r,d))},children:[Object(Ee.jsx)(ve.Input,{type:O,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){return a(e.target.value)},icon:"ShowIcon",value:r,name:"password",error:!1,ref:j,onIconClick:f,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(Ee.jsx)(ve.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",onChange:function(e){return u(e.target.value)},icon:void 0,value:d,name:"token",error:!1,ref:j,onIconClick:f,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(Ee.jsx)("div",{className:"".concat(Ae.a.button," mt-6"),children:Object(Ee.jsx)(ve.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]}),Object(Ee.jsxs)("div",{className:"".concat(Ae.a.info," mt-20"),children:[Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive pt-4",children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(Ee.jsx)(ye.b,{to:"/login",children:Object(Ee.jsx)(ve.Button,{type:"secondary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})})]})]}):Object(Ee.jsx)(i.a,{to:{pathname:"/forgot-password"}})},ze=n(29),Le=n.n(ze),Pe=n(34),Me=n.n(Pe),Fe=function(){var e=Object(s.b)();return Object(Ee.jsxs)("nav",{className:Me.a.nav,children:[Object(Ee.jsx)(ye.c,{exact:!0,to:"/profile",className:"".concat(Me.a.text," text text_type_main-medium text_color_inactive"),activeStyle:{color:"#fff"},children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(Ee.jsx)(ye.c,{to:"/profile/orders",className:"".concat(Me.a.text," text text_type_main-medium text_color_inactive"),activeStyle:{color:"#fff"},children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(Ee.jsx)("div",{className:"".concat(Me.a.link),onClick:function(){e(ue())},children:Object(Ee.jsx)("p",{className:"".concat(Me.a.text,"text text_type_main-medium text_color_inactive"),children:"\u0412\u044b\u0445\u043e\u0434"})})]})},Je=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.profileReducer.name})),n=Object(s.c)((function(e){return e.profileReducer.email})),r=Object(c.useState)(""),a=Object(Re.a)(r,2),o=a[0],i=a[1],l=Object(c.useState)(""),d=Object(Re.a)(l,2),u=d[0],j=d[1],b=Object(c.useState)(""),m=Object(Re.a)(b,2),O=m[0],_=m[1];Object(c.useEffect)((function(){i("".concat(t)),j("".concat(n))}),[i,j,t,n]);var f=Object(c.useRef)(null),p=Object(c.useRef)(null),x=Object(c.useRef)(null);return Object(Ee.jsxs)("div",{className:Le.a.container,children:[Object(Ee.jsxs)("div",{className:"mt-20",children:[Object(Ee.jsx)(Fe,{}),Object(Ee.jsx)("p",{className:"".concat(Le.a.description," text text_type_main-default text_color_inactive mt-20"),children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]}),Object(Ee.jsxs)("form",{className:"".concat(Le.a.form," mt-20"),onSubmit:function(t){t.preventDefault(),e(fe(u,o,O)),_("")},children:[Object(Ee.jsx)(ve.Input,{disabled:!0,type:"text",placeholder:"\u0418\u043c\u044f",onChange:function(e){return i(e.target.value)},icon:"EditIcon",value:o,name:"name",error:!1,ref:f,onIconClick:function(){var e=f.current;e&&(e.disabled=!e.disabled)},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(Ee.jsx)(ve.Input,{disabled:!0,type:"email",placeholder:"\u041b\u043e\u0433\u0438\u043d",onChange:function(e){return j(e.target.value)},icon:"EditIcon",value:u,name:"email",error:!1,ref:p,onIconClick:function(){var e=p.current;e&&(e.disabled=!e.disabled)},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(Ee.jsx)(ve.Input,{disabled:!0,type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){return _(e.target.value)},icon:"EditIcon",value:O,name:"password",error:!1,ref:x,onIconClick:function(){var e=x.current;e&&(e.disabled=!e.disabled)},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(Ee.jsxs)("div",{className:Le.a.buttons,children:[Object(Ee.jsx)("div",{className:Le.a.button,children:Object(Ee.jsx)(ve.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),Object(Ee.jsx)("div",{className:Le.a.button,children:Object(Ee.jsx)(ve.Button,{type:"primary",size:"medium",onClick:function(){return i("".concat(t)),void j("".concat(n))},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})})]})]})]})},We=n(2),Qe=n(54),Ve=["children"],Ke=function(e){var t=e.children,n=Object(Qe.a)(e,Ve),c=Object(s.c)((function(e){return e.profileReducer.name}));return Object(Ee.jsx)(i.b,Object(We.a)(Object(We.a)({},n),{},{render:function(e){var n=e.location;return c?t:Object(Ee.jsx)(i.a,{to:{pathname:"/login",state:{from:n}}})}}))},Ze=n(78),Xe=n.n(Ze),He=n(104),$e=n.n(He),Ye=function(e){var t=e.closeModal;return Object(Ee.jsx)("div",{className:$e.a.overlay,onClick:t})},et=function(e){var t=e.children,n=e.closeModal;Object(c.useEffect)((function(){return document.addEventListener("keydown",r),function(){document.removeEventListener("keydown",r)}}));var r=function(e){e.preventDefault(),"Escape"===e.key&&n()};return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)(Ye,{closeModal:n}),Object(Ee.jsxs)("div",{className:Xe.a.modal,children:[Object(Ee.jsx)("div",{className:Xe.a.icon,onClick:n,children:Object(Ee.jsx)(ve.CloseIcon,{type:"primary"})}),t]})]})},tt=n(55),nt=n.n(tt),ct=function(){var e=Object(c.useState)(),t=Object(Re.a)(e,2),n=t[0],r=t[1],a=Object(i.i)().id,o=Object(s.c)((function(e){return e.ingredientsReducer.listAllIngredients})),l=Object(c.useCallback)((function(){if(o.success){var e=o.data.find((function(e){return e._id===a}));r(e)}}),[a,o.success,o.data]);return Object(c.useEffect)((function(){l()}),[a,l]),Object(Ee.jsxs)("div",{className:"".concat(nt.a.container," pt-10 pr-10 pb-15 pl-10"),children:[Object(Ee.jsx)("p",{className:"text text_type_main-medium",children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),n&&Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)("img",{src:n.image,alt:"ingredient"}),Object(Ee.jsx)("p",{className:"".concat(nt.a.name," text text_type_main-default mt-4"),children:n.name}),Object(Ee.jsxs)("div",{className:"".concat(nt.a.info," mt-8"),children:[Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438, \u043a\u043a\u0430\u043b"}),Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:n.calories})]}),Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:n.proteins})]}),Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:n.fat})]}),Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:n.carbohydrates})]})]})]})]})},rt=n(79),at=n.n(rt),ot=n(30),it=n.n(ot),st=n(50),lt=n(80),dt=n.n(lt),ut=n(200),jt=function(e){var t=e.card,n=Object(ut.a)({type:"ingredient",item:{card:t},collect:function(e){return{opacity:e.isDragging()?.5:1}}}),c=Object(Re.a)(n,2),r=c[0].opacity,a=c[1],o=Object(s.b)(),i=Object(s.c)((function(e){return e.orderReducer.orderIds})),l=function(e){o({type:_,viewedIngredient:e})},d=function(e){var t,n={},c=Object(st.a)(i);try{for(c.s();!(t=c.n()).done;){var r=t.value;n[r]=n[r]?n[r]+1:1}}catch(a){c.e(a)}finally{c.f()}return n[e]||0};return Object(Ee.jsxs)("li",{className:"".concat(dt.a.card," mb-8"),onClick:function(){return l(t)},ref:a,style:{opacity:"".concat(r)},children:[d(t._id)>0&&Object(Ee.jsx)(ve.Counter,{count:d(t._id),size:"default"}),Object(Ee.jsx)("img",{src:t.image,alt:"\u0418\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442"}),Object(Ee.jsxs)("div",{className:"".concat(dt.a.info," mt-1 mb-1"),children:[Object(Ee.jsx)("p",{className:"text text_type_digits-default mr-2",children:t.price}),Object(Ee.jsx)(ve.CurrencyIcon,{type:"primary"})]}),Object(Ee.jsx)("p",{className:"text text_type_main-default pb-6",children:t.name})]})},bt=function(){var e=Object(i.h)(),t=Object(s.c)((function(e){return e.ingredientsReducer.listAllIngredients.data})),n=Object(c.useState)("bun"),r=Object(Re.a)(n,2),a=r[0],o=r[1],l=function(e){o(e);var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})};return Object(Ee.jsxs)("section",{className:it.a.box,children:[Object(Ee.jsxs)("div",{className:"".concat(it.a.tabs," mt-5 mb-10"),children:[Object(Ee.jsx)(ve.Tab,{value:"bun",active:"bun"===a,onClick:l,children:"\u0411\u0443\u043b\u043a\u0438"}),Object(Ee.jsx)(ve.Tab,{value:"sauce",active:"sauce"===a,onClick:l,children:"\u0421\u043e\u0443\u0441\u044b"}),Object(Ee.jsx)(ve.Tab,{value:"main",active:"main"===a,onClick:l,children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]}),Object(Ee.jsx)("div",{onScroll:function(){var e=document.getElementById("container").getBoundingClientRect().top,t=document.getElementById("bun").getBoundingClientRect().top,n=document.getElementById("sauce").getBoundingClientRect().top,c=document.getElementById("main").getBoundingClientRect().top;t>=e&&e<n?o("bun"):n<=e&&e<c?o("sauce"):c<=e&&o("main")},id:"container",className:"".concat(it.a.container," ").concat(it.a.scroll," mt-10"),children:[{type:"bun",title:"\u0411\u0443\u043b\u043a\u0438"},{type:"sauce",title:"\u0421\u043e\u0443\u0441\u044b"},{type:"main",title:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"}].map((function(n,c){return Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)("p",{id:n.type,className:"text text_type_main-medium mb-6",children:n.title}),Object(Ee.jsx)("ul",{className:"".concat(it.a.cards," ml-4 mr-4"),children:t&&(r=n.type,t.filter((function(e){return e.type===r}))).map((function(t){return Object(Ee.jsx)(ye.b,{className:it.a.link,to:{pathname:"/ingredients/".concat(t._id),state:{ingredientModal:e}},children:Object(Ee.jsx)(jt,{card:t})},t._id)}))})]},c);var r}))})]})},mt=n(22),Ot=n(25),_t=n.n(Ot),ft=n(202),pt=function(e){return{type:l,bunInConstructor:e&&Object(We.a)(Object(We.a)({},e),{},{uuid:Object(ft.a)()})}},xt=function(e){return{type:j,ingredientsInConstructor:e}};function ht(e){return function(t){t({type:p,orderReq:!0}),fetch("".concat(te,"/orders"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",authorization:ee("accessToken")||"null"},body:JSON.stringify({ingredients:e})}).then((function(e){if(200!==e.status)throw new Error(e.status);return e.json()})).then((function(e){t({type:x,createdOrder:e}),t(xt([])),t(pt(null))})).catch((function(e){console.log(e),t({type:h})}))}}var gt,vt=n(201),yt=n(106),Et=n.n(yt),Nt=n(107),Rt=n.n(Nt),St=function(e){var t=e.id,n=e.index,r=e.moveCard,a=e.constructorCard,o=Object(s.b)(),i=function(e){o({type:u,ingredient:e})},l=Object(c.useRef)(null),d=Object(vt.a)({accept:j,collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,t){var c;if(l.current){var a=e.index,o=n;if(a!==o){var i=null===(c=l.current)||void 0===c?void 0:c.getBoundingClientRect(),s=(i.bottom-i.top)/2,d=t.getClientOffset().y-i.top;a<o&&d<s||a>o&&d>s||(r(a,o),e.index=o)}}}}),b=Object(Re.a)(d,2),m=b[0].handlerId,O=b[1],_=Object(ut.a)({type:j,item:function(){return{id:t,index:n}},collect:function(e){return{isDragging:e.isDragging()}}}),f=Object(Re.a)(_,2),p=f[0].isDragging?0:1;return(0,f[1])(O(l)),Object(Ee.jsxs)("li",{className:"".concat(Rt.a.card),ref:l,style:{opacity:"".concat(p)},"data-handler-id":m,children:[Object(Ee.jsx)(ve.DragIcon,{type:"primary"}),Object(Ee.jsx)(ve.ConstructorElement,{text:a.name,price:a.price,thumbnail:a.image,handleClose:function(){return i(a)}})]})},Tt=function(){var e=Object(s.b)(),t=Object(i.g)(),n=function(t){var n;"bun"===t.card.type?e(pt(t.card)):e((n=t.card,{type:d,ingredientsInConstructor:Object(We.a)(Object(We.a)({},n),{},{uuid:Object(ft.a)()})}))},r=Object(vt.a)({accept:"ingredient",drop:function(e){n(e)}}),a=Object(Re.a)(r,2)[1],o=Object(s.c)((function(e){return e.constructorReducer.ingredientsInConstructor})),l=Object(s.c)((function(e){return e.bunReducer.bunInConstructor})),u=Object(s.c)((function(e){return e.orderReducer.orderIds})),j=Object(s.c)((function(e){return e.orderReducer.orderReq})),b=Object(c.useState)(0),m=Object(Re.a)(b,2),O=m[0],_=m[1];Object(c.useEffect)((function(){var t;l&&e((t=[l._id].concat(Object(mt.a)(o.map((function(e){return e._id}))),[l._id]),{type:v,orderIds:t})),_((function(){return[].concat(Object(mt.a)(Array(2).fill(l&&l.price)),Object(mt.a)(o.map((function(e){return e.price})))).reduce((function(e,t){return t?e+t:e}),0)}))}),[o,l,e]);var f=Object(s.c)((function(e){return e.profileReducer.name})),p=Object(c.useCallback)((function(t,n){var c=o[t];e(xt(Et()(o,{$splice:[[t,1],[n,0,c]]})))}),[o,e]);return Object(Ee.jsxs)("section",{ref:a,className:_t.a.box,children:[l&&Object(Ee.jsx)("div",{className:"ml-10 pl-9",children:Object(Ee.jsx)(ve.ConstructorElement,{type:"top",isLocked:!0,text:"".concat(l.name," (\u0432\u0435\u0440\u0445)"),price:l.price,thumbnail:l.image})}),o.length>=1?Object(Ee.jsx)("ul",{className:"".concat(_t.a.container," ").concat(_t.a.scroll," mt-4 mb-4"),children:o.map((function(e,t){return Object(Ee.jsx)(St,{constructorCard:e,index:t,id:e._id,moveCard:p},e.uuid)}))}):Object(Ee.jsx)("p",{className:"".concat(_t.a.container," text text_type_main-default pt-30 pb-30"),children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b"}),l&&Object(Ee.jsx)("div",{className:"ml-10 pl-9",children:Object(Ee.jsx)(ve.ConstructorElement,{type:"bottom",isLocked:!0,text:"".concat(l.name," (\u043d\u0438\u0437)"),price:l.price,thumbnail:l.image})}),Object(Ee.jsxs)("div",{className:"".concat(_t.a.info," mt-10"),children:[Object(Ee.jsx)("p",{className:"text text_type_digits-medium mr-2",children:O}),Object(Ee.jsx)(ve.CurrencyIcon,{type:"primary"}),l?Object(Ee.jsx)("div",{onClick:function(){f?e(ht(u)):t.push("/login")},children:j?Object(Ee.jsx)("p",{className:"text text_type_main-default ml-5 ".concat(_t.a.choice),children:"\u0418\u0434\u0451\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0437\u0430\u043a\u0430\u0437\u0430..."}):Object(Ee.jsx)(ve.Button,{type:"primary",size:"medium",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})}):Object(Ee.jsx)("p",{className:"text text_type_main-default ml-5 ".concat(_t.a.choice),children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u043b\u043a\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})},It=n(56),Ct=n.n(It),wt=n.p+"static/media/order-accepted.5cbcff83.gif",kt=function(){var e=Object(s.c)((function(e){return e.orderReducer.createdOrder}));return Object(Ee.jsxs)("div",{className:"".concat(Ct.a.container," pt-30 pr-25 pb-30 pl-25"),children:[Object(Ee.jsx)("p",{className:"".concat(Ct.a.shadow," text text_type_digits-large"),children:e&&e.order.number}),Object(Ee.jsx)("p",{className:"text text_type_main-medium mt-8",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(Ee.jsx)("img",{className:"".concat(Ct.a.image," mt-15"),src:wt,alt:"success"}),Object(Ee.jsx)("p",{className:"text text_type_main-default mt-15",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(Ee.jsx)("p",{className:"text text_type_main-default",children:e&&e.name}),Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive mt-2",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},Dt=n(199),qt=n(109),Gt=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.orderReducer.createdOrder}));return Object(Ee.jsxs)("main",{className:at.a.box,children:[t&&t.success&&Object(Ee.jsx)(et,{children:Object(Ee.jsx)(kt,{}),closeModal:function(){e({type:f,viewedIngredient:null}),e({type:g,createdOrder:null})}}),Object(Ee.jsx)("h1",{className:"text text_type_main-large mt-10 mb-5",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(Ee.jsx)("div",{className:at.a.container,children:Object(Ee.jsxs)(Dt.a,{backend:qt.a,children:[Object(Ee.jsx)(bt,{}),Object(Ee.jsx)(Tt,{})]})})]})},Ut=n(83),At=n.n(Ut),Bt=n(57),zt=n.n(Bt),Lt=n(21),Pt=n.n(Lt),Mt=function(e){var t=e.url,n=e.orderInfo,c=Object(i.h)(),r=Object(s.c)((function(e){return e.ingredientsReducer.listAllIngredients.data})),a=n.ingredients&&n.ingredients.reduce((function(e,t){for(var n=0;n<r.length;n++)r[n]._id===t&&e.push(r[n]);return e}),[]),o=a.length&&a.reduce((function(e,t){return t&&t.price?e+t.price:e}),0),l="done"===n.status?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d":"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f",d=new Date(n.createdAt).toLocaleString("ru",{weekday:"long",day:"numeric",month:"long",hour:"numeric",minute:"numeric",timeZoneName:"short"});return Object(Ee.jsx)(ye.b,{to:{pathname:"/".concat(t,"/").concat(n._id),state:{orderDetailsModal:c}},className:Pt.a.card,children:Object(Ee.jsxs)("li",{children:[Object(Ee.jsxs)("div",{className:Pt.a.info,children:[Object(Ee.jsxs)("p",{className:"text text_type_digits-default",children:["#",n.number]}),Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:d})]}),Object(Ee.jsx)("p",{className:"text text_type_main-medium mt-6",children:n.name}),Object(Ee.jsx)("p",{className:"text text_type_main-default mt-2 ".concat("done"!==n.status&&Pt.a.status),children:l}),Object(Ee.jsxs)("div",{className:"".concat(Pt.a.order," mt-6"),children:[Object(Ee.jsx)("ul",{className:Pt.a.images,children:a&&a.map((function(e,t){return t<6?Object(Ee.jsxs)("li",{style:{zIndex:a.length-t},className:"".concat(Pt.a.radius," ").concat(a.length>6&&5===t&&Pt.a.blackout),children:[Object(Ee.jsx)("img",{className:"".concat(Pt.a.image),src:e&&e.image,alt:"\u0418\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442"}),a.length>6&&5===t&&Object(Ee.jsx)("p",{className:"".concat(Pt.a.number," text text_type_digits-default"),children:"+".concat(a.length-6)})]},t):null}))}),Object(Ee.jsxs)("div",{className:Pt.a.price,children:[Object(Ee.jsx)("p",{className:"text text_type_digits-medium mr-2",children:o}),Object(Ee.jsx)(ve.CurrencyIcon,{type:"primary"})]})]})]})},n._id)},Ft=function(e){var t=e.url,n=Object(s.c)((function(e){return e.wsReducer.ordersInfo}));return Object(Ee.jsx)("div",{className:"".concat(zt.a.container," ").concat(zt.a.scroll),children:Object(Ee.jsx)("ul",{className:"".concat(zt.a.cards," mr-2"),children:n.orders&&n.orders.map((function(e,n){return Object(Ee.jsx)(Mt,{url:t,orderInfo:e},n)}))})})},Jt=n(19),Wt=n.n(Jt),Qt=function(){var e=Object(s.c)((function(e){return e.wsReducer.ordersInfo})),t=e.orders&&Object(mt.a)(e.orders.filter((function(e){return"done"===e.status&&e.status}))).map((function(e){return e.number})),n=e.orders&&Object(mt.a)(e.orders.filter((function(e){return"done"!==e.status&&e.status}))).map((function(e){return e.number}));return Object(Ee.jsxs)("div",{className:Wt.a.container,children:[Object(Ee.jsxs)("div",{className:"".concat(Wt.a.box," mt-15 mb-6"),children:[Object(Ee.jsxs)("div",{className:"".concat(Wt.a.work," mr-10"),children:[Object(Ee.jsx)("p",{className:"text text_type_main-medium",children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),t&&Object(Ee.jsx)("ul",{className:Wt.a.list,children:t.map((function(e,t){return Object(Ee.jsx)("li",{className:"".concat(Wt.a.text," text text_type_digits-default"),children:e},t)}))})]}),Object(Ee.jsxs)("div",{className:"".concat(Wt.a.work," ml-2"),children:[Object(Ee.jsx)("p",{className:"text text_type_main-medium",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),n&&Object(Ee.jsx)("ul",{className:Wt.a.list,children:n.map((function(e,t){return Object(Ee.jsx)("li",{className:"text text_type_digits-default",children:e},t)}))})]})]}),Object(Ee.jsxs)("div",{className:"".concat(Wt.a.info," mb-15"),children:[Object(Ee.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(Ee.jsx)("p",{className:"".concat(Wt.a.number," text text_type_digits-large"),children:e.total})]}),Object(Ee.jsxs)("div",{className:Wt.a.info,children:[Object(Ee.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(Ee.jsx)("p",{className:"".concat(Wt.a.number," text text_type_digits-large"),children:e.totalToday})]})]})},Vt=function(){var e=Object(s.b)();return Object(c.useEffect)((function(){e({type:V})}),[e]),Object(Ee.jsxs)("div",{className:"".concat(At.a.container," mt-10"),children:[Object(Ee.jsxs)("div",{className:At.a.box,children:[Object(Ee.jsx)("p",{className:"text text_type_main-large mb-5",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(Ee.jsx)(Ft,{url:"feed"})]}),Object(Ee.jsx)(Qt,{})]})},Kt=n(58),Zt=n.n(Kt),Xt=function(){var e=Object(s.b)();return Object(c.useEffect)((function(){e({type:K})}),[e]),Object(Ee.jsxs)("div",{className:Zt.a.container,children:[Object(Ee.jsxs)("div",{className:"mt-20",children:[Object(Ee.jsx)(Fe,{}),Object(Ee.jsx)("p",{className:"".concat(Zt.a.description," text text_type_main-default text_color_inactive mt-20"),children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0432\u043e\u044e \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]}),Object(Ee.jsx)("div",{className:"".concat(Zt.a.box," mt-10"),children:Object(Ee.jsx)(Ft,{url:"profile/orders"})})]})},Ht=n(14),$t=n.n(Ht),Yt=function(){var e=Object(i.h)(),t=Object(s.c)((function(e){return e.wsReducer.ordersInfo})),n=Object(s.c)((function(e){return e.ingredientsReducer.listAllIngredients.data})),r=Object(c.useState)(),a=Object(Re.a)(r,2),o=a[0],l=a[1],d=Object(i.i)(),u=Object(s.b)();Object(c.useEffect)((function(){"/feed"===e.state.orderDetailsModal.pathname?u({type:V}):"/profile/orders"===e.state.orderDetailsModal.pathname&&u({type:K})}),[u,e]),Object(c.useEffect)((function(){l(t.orders&&t.orders.find((function(e){return e._id===d.id})))}),[d.id,o,t]);var j=o&&new Date(o.createdAt).toLocaleString("ru",{weekday:"long",day:"numeric",month:"long",hour:"numeric",minute:"numeric",timeZoneName:"short"}),b=null===o||void 0===o?void 0:o.ingredients.reduce((function(e,t){for(var c=0;c<n.length;c++)n[c]._id===t&&e.push(n[c]);return e}),[]),m=b&&b.reduce((function(e,t){return!e._id&&t&&(e[t._id]=t),e}),{}),O=m&&Object.values(m),_=b&&b.reduce((function(e,t){return t&&t.price?e+t.price:e}),0),f=function(e){var t={};if(null===o||void 0===o?void 0:o.ingredients){var n,c=Object(st.a)(null===o||void 0===o?void 0:o.ingredients);try{for(c.s();!(n=c.n()).done;){var r=n.value;t[r]=t[r]?t[r]+1:1}}catch(a){c.e(a)}finally{c.f()}}return t[e]||0};return Object(Ee.jsxs)("div",{className:"".concat($t.a.container),children:[Object(Ee.jsxs)("p",{className:"text text_type_digits-default mt-20 ".concat($t.a.id),children:["#",o&&o.number]}),Object(Ee.jsx)("p",{className:"text text_type_main-medium mt-10",children:o&&o.name}),Object(Ee.jsx)("p",{className:"".concat($t.a.status," text text_type_main-default mt-3"),children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"}),Object(Ee.jsx)("p",{className:"text text_type_main-medium mt-15",children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(Ee.jsx)("div",{className:"".concat($t.a.box," ").concat($t.a.scroll),children:Object(Ee.jsx)("ul",{className:"".concat($t.a.list," mt-6"),children:O&&O.map((function(e){return Object(Ee.jsxs)("li",{className:"".concat($t.a.card," mb-4"),children:[Object(Ee.jsx)("div",{className:"".concat($t.a.radius," mr-4"),children:Object(Ee.jsx)("img",{className:"".concat($t.a.image),src:e.image,alt:"\u0418\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442"})}),Object(Ee.jsx)("p",{className:"text text_type_main-default mr-4 ".concat($t.a.text),children:e.name}),Object(Ee.jsxs)("div",{className:"".concat($t.a.price," mr-6"),children:[Object(Ee.jsxs)("p",{className:"text text_type_digits-default mr-2",children:[f(e._id)," x ",e.price]}),Object(Ee.jsx)(ve.CurrencyIcon,{type:"primary"})]})]},e._id)}))})}),Object(Ee.jsxs)("div",{className:"".concat($t.a.info," mt-10"),children:[Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:j}),Object(Ee.jsxs)("div",{className:$t.a.price,children:[Object(Ee.jsx)("p",{className:"text text_type_digits-default mr-2",children:_}),Object(Ee.jsx)(ve.CurrencyIcon,{type:"primary"})]})]})]})},en=function(){var e=Object(s.b)(),t=Object(i.h)(),n=Object(i.g)(),r="PUSH"===n.action||"REPLACE"===n.action,a=r&&t.state&&t.state.ingredientModal,o=r&&t.state&&t.state.orderDetailsModal;Object(c.useEffect)((function(){e(xe()),e(Oe())}),[e]);var l=function(){n.goBack()};return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)(Ne,{}),Object(Ee.jsxs)(i.d,{location:a||o||t,children:[Object(Ee.jsx)(i.b,{path:"/",exact:!0,children:Object(Ee.jsx)(Gt,{})}),Object(Ee.jsx)(i.b,{path:"/register",children:Object(Ee.jsx)(Ie,{})}),Object(Ee.jsx)(i.b,{path:"/login",children:Object(Ee.jsx)(ke,{})}),Object(Ee.jsx)(i.b,{path:"/forgot-password",children:Object(Ee.jsx)(Ge,{})}),Object(Ee.jsx)(i.b,{path:"/reset-password",children:Object(Ee.jsx)(Be,{})}),Object(Ee.jsx)(Ke,{path:"/profile",exact:!0,children:Object(Ee.jsx)(Je,{})}),Object(Ee.jsx)(Ke,{path:"/profile/orders",children:Object(Ee.jsx)(Xt,{})}),Object(Ee.jsx)(Ke,{path:"/profile/orders/:id",children:Object(Ee.jsx)(Yt,{})}),Object(Ee.jsx)(i.b,{path:"/feed",exact:!0,children:Object(Ee.jsx)(Vt,{})}),Object(Ee.jsx)(i.b,{path:"/feed/:id",children:Object(Ee.jsx)(Yt,{})}),Object(Ee.jsx)(i.b,{path:"/ingredients/:id",children:Object(Ee.jsx)(ct,{})})]}),a&&Object(Ee.jsx)(i.b,{path:"/ingredients/:id",children:Object(Ee.jsx)(et,{closeModal:l,children:Object(Ee.jsx)(ct,{})})}),o&&Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)(i.b,{path:"/feed/:id",children:Object(Ee.jsx)(et,{closeModal:l,children:Object(Ee.jsx)(Yt,{})})}),Object(Ee.jsx)(i.b,{path:"/profile/orders/:id",children:Object(Ee.jsx)(et,{closeModal:l,children:Object(Ee.jsx)(Yt,{})})})]})]})},tn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,203)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))},nn=n(24),cn={listAllIngredientsReq:!1,listAllIngredientsError:!1,listAllIngredients:{success:!1,data:[]}},rn={ingredientsInConstructor:[]},an={bunInConstructor:null},on={viewedIngredient:null},sn={orderReq:!1,orderError:!1,createdOrder:null,orderIds:[]},ln={loginReq:!1,loginError:!1,registerReq:!1,registerError:!1,forgotReq:!1,forgotError:!1,emailSent:!1,passwordReseted:!1,resetPasswordReq:!1,resetPasswordError:!1,logoutReq:!1,logoutError:!1,isAuthenticated:!1,tokenReq:!1,tokenError:!1,userReq:!1,userError:!1,updateUserReq:!1,updateUserError:!1,name:"",email:""},dn={wsConnected:!1,ordersInfo:[],error:void 0},un=Object(nn.b)({ingredientsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(We.a)(Object(We.a)({},e),{},{listAllIngredientsReq:!0});case m:return Object(We.a)(Object(We.a)({},e),{},{listAllIngredientsError:!1,listAllIngredients:t.listAllIngredients,listAllIngredientsReq:!1});case O:return Object(We.a)(Object(We.a)({},e),{},{listAllIngredientsError:!0,listAllIngredientsReq:!1});default:return e}},constructorReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{ingredientsInConstructor:[].concat(Object(mt.a)(e.ingredientsInConstructor),[t.ingredientsInConstructor])};case u:return Object(We.a)(Object(We.a)({},e),{},{ingredientsInConstructor:Object(mt.a)(e.ingredientsInConstructor.filter((function(e){return e.uuid!==t.ingredient.uuid})))});case j:return Object(We.a)(Object(We.a)({},e),{},{ingredientsInConstructor:t.ingredientsInConstructor});default:return e}},bunReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(We.a)(Object(We.a)({},e),{},{bunInConstructor:t.bunInConstructor});default:return e}},modalReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(We.a)(Object(We.a)({},e),{},{viewedIngredient:t.viewedIngredient});case f:return Object(We.a)(Object(We.a)({},e),{},{viewedIngredient:on.viewedIngredient});default:return e}},orderReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(We.a)(Object(We.a)({},e),{},{orderReq:!0});case x:return console.log("action.createdOrder",t.createdOrder),Object(We.a)(Object(We.a)({},e),{},{orderError:!1,createdOrder:t.createdOrder,orderReq:!1});case h:return Object(We.a)(Object(We.a)({},e),{},{orderError:!0,orderReq:!1});case g:return Object(We.a)(Object(We.a)({},e),{},{createdOrder:sn.createdOrder});case v:return Object(We.a)(Object(We.a)({},e),{},{orderIds:t.orderIds});default:return e}},profileReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(We.a)(Object(We.a)({},e),{},{registerReq:!0});case S:return Object(We.a)(Object(We.a)({},e),{},{registerError:!1,name:t.name,email:t.email,registerReq:!1});case T:return Object(We.a)(Object(We.a)({},e),{},{registerError:!0,registerReq:!1});case y:return Object(We.a)(Object(We.a)({},e),{},{loginReq:!0});case E:return Object(We.a)(Object(We.a)({},e),{},{loginError:!1,name:t.name,email:t.email,loginReq:!1});case N:return Object(We.a)(Object(We.a)({},e),{},{loginError:!0,loginReq:!1});case k:return Object(We.a)(Object(We.a)({},e),{},{forgotReq:!0});case D:return Object(We.a)(Object(We.a)({},e),{},{emailSent:!0,forgotError:!1,forgotReq:!1});case q:return Object(We.a)(Object(We.a)({},e),{},{forgotError:!0,forgotReq:!1});case G:return Object(We.a)(Object(We.a)({},e),{},{resetPasswordReq:!0});case U:return Object(We.a)(Object(We.a)({},e),{},{resetPasswordError:!1,resetPasswordReq:!1,passwordReseted:!0});case A:return Object(We.a)(Object(We.a)({},e),{},{resetPasswordError:!0,resetPasswordReq:!1});case B:return Object(We.a)(Object(We.a)({},e),{},{logoutReq:!0});case z:return Object(We.a)(Object(We.a)({},e),{},{logoutError:!1,logoutReq:!1,name:"",email:""});case L:return Object(We.a)(Object(We.a)({},e),{},{logoutError:!0,logoutReq:!1});case I:return Object(We.a)(Object(We.a)({},e),{},{tokenReq:!0});case C:return Object(We.a)(Object(We.a)({},e),{},{tokenError:!1,tokenReq:!1});case w:return Object(We.a)(Object(We.a)({},e),{},{tokenError:!0,tokenReq:!1});case P:return Object(We.a)(Object(We.a)({},e),{},{userReq:!0});case M:return Object(We.a)(Object(We.a)({},e),{},{userError:!1,userReq:!1,name:t.name,email:t.email,isAuthenticated:!0});case F:return Object(We.a)(Object(We.a)({},e),{},{userError:!0,userReq:!1,isAuthenticated:!1});case J:return Object(We.a)(Object(We.a)({},e),{},{updateUserReq:!0});case W:return Object(We.a)(Object(We.a)({},e),{},{updateUserError:!1,updateUserReq:!1});case Q:return Object(We.a)(Object(We.a)({},e),{},{updateUserError:!0,updateUserReq:!1});default:return e}},wsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(We.a)(Object(We.a)({},e),{},{error:void 0,wsConnected:!0});case X:return Object(We.a)(Object(We.a)({},e),{},{error:t.payload,wsConnected:!1});case H:return Object(We.a)(Object(We.a)({},e),{},{error:void 0,wsConnected:!1});case $:return Object(We.a)(Object(We.a)({},e),{},{error:void 0,ordersInfo:t.payload});default:return e}}}),jn=n(108),bn=["success"],mn=V,On=K,_n="WS_SEND_MESSAGE",fn=Z,pn=H,xn=X,hn=$,gn=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||nn.c)(Object(nn.a)(jn.a,(gt="wss://norma.nomoreparties.space/orders",function(e){var t=null;return function(n){return function(c){var r=e.dispatch,a=c.type,o=c.payload,i=mn,s=On,l=_n,d=fn,u=pn,j=xn,b=hn,m=ee("accessToken"),O=m&&m.split(" ")[1];if(a===i&&(t=new WebSocket("".concat(gt,"/all"))),a===s&&(t=new WebSocket("".concat(gt,"?token=").concat(O))),t&&(t.onopen=function(e){r({type:d,payload:e})},t.onerror=function(e){r({type:j,payload:e})},t.onmessage=function(e){var t=e.data,n=JSON.parse(t),c=(n.success,Object(Qe.a)(n,bn));r({type:b,payload:c})},t.onclose=function(e){r({type:u,payload:e})},a===l)){console.log("send");var _=Object(We.a)({},o);t.send(JSON.stringify(_))}n(c)}}}))),vn=Object(nn.d)(un,gn);o.a.render(Object(Ee.jsx)(r.a.StrictMode,{children:Object(Ee.jsx)(s.a,{store:vn,children:Object(Ee.jsx)(ye.a,{basename:"/react-burger",children:Object(Ee.jsx)(en,{})})})}),document.getElementById("root")),tn()},21:function(e,t,n){e.exports={card:"order_card__2p-Xq",info:"order_info__3oC9i",order:"order_order__3EhEI",images:"order_images__2wfL4",radius:"order_radius__3yLTk",blackout:"order_blackout__2dxlm",image:"order_image__2qBgm",number:"order_number__3Sj-g",price:"order_price__bLnxl",status:"order_status__3Mmlp"}},25:function(e,t,n){e.exports={box:"burger-constructor_box__4zFBf",container:"burger-constructor_container__1Z5jE",info:"burger-constructor_info__1ZVXt",card:"burger-constructor_card__nwE4L",scroll:"burger-constructor_scroll__1uJiO",choice:"burger-constructor_choice__1idIQ"}},28:function(e,t,n){e.exports={header:"app-header_header__2gZai",container:"app-header_container__377_s",link:"app-header_link__1WpzJ",navigation:"app-header_navigation__2JwEB"}},29:function(e,t,n){e.exports={container:"profile_container__1_VFT",box:"profile_box__ZWGm4",form:"profile_form__a5nTq",buttons:"profile_buttons__jgmQe",button:"profile_button__3kSKM",description:"profile_description__cBj-T"}},30:function(e,t,n){e.exports={box:"burger-ingredients_box__pmkcQ",container:"burger-ingredients_container__3d7le",tabs:"burger-ingredients_tabs__3VirF",cards:"burger-ingredients_cards__2EfCS",scroll:"burger-ingredients_scroll__1jEyK",link:"burger-ingredients_link__M40Hv"}},33:function(e,t,n){e.exports={container:"login_container__3EO-T",form:"login_form__2EWFU",button:"login_button__fM9j6",info:"login_info__20y12"}},34:function(e,t,n){e.exports={nav:"nav-profile_nav__21fSj",text:"nav-profile_text__3YvFm",link:"nav-profile_link__1fPU2"}},41:function(e,t,n){e.exports={container:"register_container__8h2fO",form:"register_form__2aTEV",button:"register_button__2B9nx",info:"register_info__2D97J"}},42:function(e,t,n){e.exports={container:"forgot-password_container__3FLu4",form:"forgot-password_form__1h7lo",button:"forgot-password_button__22n_A",info:"forgot-password_info__1Tl8g"}},43:function(e,t,n){e.exports={container:"reset-password_container__k77Gg",form:"reset-password_form__soT1K",button:"reset-password_button__2ZXxk",info:"reset-password_info__dRWwR"}},55:function(e,t,n){e.exports={container:"ingredient-details_container__2qmAL",info:"ingredient-details_info__2nETA",name:"ingredient-details_name__12xHT"}},56:function(e,t,n){e.exports={container:"order-info_container__1Bu-S",shadow:"order-info_shadow__zgWkN",image:"order-info_image__B5dFN"}},57:function(e,t,n){e.exports={container:"order-list_container__3K38o",scroll:"order-list_scroll__2dF6T",cards:"order-list_cards__3azuj"}},58:function(e,t,n){e.exports={container:"orders_container__21WtJ",description:"orders_description__3Xt5G",box:"orders_box__Fs9iF"}},78:function(e,t,n){e.exports={modal:"modal_modal__1ErMh",icon:"modal_icon__39kwV"}},79:function(e,t,n){e.exports={box:"burger-container_box__3bxkB",container:"burger-container_container__QIDFn"}},80:function(e,t,n){e.exports={card:"ingredient-card_card__2BNJ1",info:"ingredient-card_info__1sldO"}},83:function(e,t,n){e.exports={container:"feed_container__1l0a8",box:"feed_box__2DaAj"}}},[[194,1,2]]]);
//# sourceMappingURL=main.ddb6d2dd.chunk.js.map